(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhUAAAIuCAYAAAAIWfoQAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADL1JREFUeNrs3cFtG0cUgOFhoAJYwpbAEjgdqAABXgFzTwmJO3ABAqLD9EF1YHeQdGCngmQ32kOgIAGc9ygul98HEOuTYL6Vod8zw9WurFCr/dfpMhQA4Gr8sMKgOAoKABAVGT64LQBwfXZr+su02vfT5avbAgDXZ20rFaNbAgCiIsOPbgkAiIqQVvuhOKAJAKIigVUKALhiqziouRzQnJ9NsXdLAOA6rWWl4l5QAICoyGDrAwCu3MW3P5YDmp/dCgC4bmtYqfAETQAQFSlGtwEAREVIq30OCgc0AUBUhNn6AICNuNhBzVb7UF6fTQEAbMAlVyp8jBQAREWKe+MHAFER0mqfg2IwfgAQFVEOaALAxrz7QU0HNAFgmy6xUjEaOwCIigy2PgBAVMS02o/FAU0AEBUJrFIAwEa920HNVvv8Oz6+GjkAbNN7rlSMxg0AoiKDx3IDgKiIabUfigOaACAqElilAICNO/tBzeWA5vwEzb1xA8B2vcdKxb2gAABRkcHWBwDcgLNufywHND8bMwBs37lXKjxBEwBERYrRiAFAVIS02uegcEATAERFmK0PALghZzmo2WofyuuzKQCAG3GulQofIwUAUZHi3mgBQFSEtNrnoBiMFgBERZQDmgBwg1IPajqgCQC3K3ulYjRSABAVGWx9AICoiGm1H4sDmgAgKhJYpQCAG5ZyULPVPv+Oj6/GCQC36y7p64xG+ZePT6eHn40BgO/8z/lpuhyv/X1kbX94LDcA3LhwVEx1dSgOaAKAqEj4GlYpAIBYVCwHNP3yMAAgvFIxB8XeGAGAaFTY+gAAYlGxHNA8GCEAEIqK4gmaAEBSVIzGBwCEoqLVPgeFA5oAQCwqiq0PACAaFa32oWzg+eQAwIWjovgYKQCQFBWeoAkAxKKi1T4HxWBsAEAoKooDmgBANCqWA5q2PgCAWFQUD7sCAJKiwtYHABCLilb7sTigCQBEo6JYpQAAolHRap9/x8doVABAKCoEBQCQFRUeyw0AxKKi1X4oDmgCANGoKFYpAIBoVCwHND1BEwCIRcUSFHsjAgCiUWHrAwCIRcVyQPNgPABAKCqKJ2gCAElRMRoNABCKilb7HBQOaAIAsagotj4AgGhUtNqH6XI0FgAgFBXFx0gBgKSo8ARNACAWFa32OSgGIwEAQlFRHNAEAKJRsRzQtPUBAMSionjYFQCQFBW2PgCAWFS02o/FAU0AIBoVxSoFAJAUFaMxAAAZUQEAICoAAFEBAIgKAABRAQCICgBAVAAAogIAQFQAAKICABAVAICoAAAQFQCAqAAARAUAICqMAAAQFQCAqAAARAUAgKgAAEQFACAqAABRAQAgKgAAUQEAiAoAQFQAAIgKAEBUAACiAgBAVAAAogIAEBUAgKgAABAVAICoAABEBQAgKgAARAUAICoAAFEBAIgKAABRAQCICgBAVAAAiAoAQFQAAKICABAVAAD/4s4I4Hxa7cN0GTbwVr49nR6+uKNp3xfHLbyP6Xvixd1EVMD7GafXTxt4H/MPj+p2pjlt5H3s3Er+zvYHACAqAABRAQCICgAAUQEAiAoAQFQAAKICAEBUAACiAgAQFQCAqAAAEBUAgKgAAEQFAICoAABEBQAgKgAAUQEAICoAAFEBAIgKAEBUAACICgBAVAAAogIAEBUAAKICABAVAICoAAAQFQCAqAAARAUAICoAAEQFACAqAABRAQCICgAAUQEAiAoAQFQAAKICAEBUAACiAgAQFQAAogIAEBUAgKgAAEQFAICoAABEBQAgKgAAUQEAICoAAFEBAIgKAEBUAACICgBAVAAAogIAQFQAAKICABAVAICoAAAQFQCAqAAARAUAICoAAEQFACAqAABRAQCICgAAUQEAiAoAQFQAAIgKAEBUAACiAgAQFQAAogIAEBUAgKgAAEQFAICoAABEBQAgKgAARAUAICoAAFEBAIgKAABRAQCICgBAVAAAogIAQFQAAKICABAVAICoAAAQFQCAqAAARAUAgKgAAEQFACAqAABRAQAgKgAAUQEAiAoAQFQAAIgKAEBUAACiAgAQFQAAogIAEBUAgKgAABAVAICoAABEBQAgKgAARAUAICoAAFEBAIgKAABRAQCICgBAVAAAogIAQFQAAKICABAVAACiAgAQFQCAqAAARAUAgKgAAEQFACAqAABRAQAgKgAAUQEAiAoAQFQAAIgKAGAN7owAzuq36fWygffxxa1M9WIEiArguzydHp6ny7NJ8Ob7opoCW2T7AwAQFQCAqAAARAUAgKgAAEQFACAqAABRAQAgKgAAUQEAiAoAQFQAAIgKAEBUAACiAgBAVAAAogIAEBUAgKgAABAVAICoAABEBQAgKgAARAUAXI29qAAAQlrtv0yXg6gAAKJBMW7l/YgKABAUogIABIWoAABBISoAAEEhKgBAUIgKABAUogIABMXmiQoAEBSiAgAEhagAAEEhKgAAQSEqAEBQiAoAEBSiAgAEhagAAASFqAAAQSEqAEBQiAoAEBSiAgAQFKICAASFqAAAQSEqAEBQICoAQFCICgAQFGvyLCoAQFCEg+Lp9PAoKgBAUISDYv6DqAAAQREOClEBAIIiJShEBQAIipSgEBUAIChSgkJUACAoBEVKUIgKAASFoEgJClEBgKAgJShEBQCCgpSgEBUACApSgkJUACAoSAkKUQGAoCAlKEQFAIKClKAQFQAIClKCQlQAIChICQpRAYCgICUoRAUAgoKUoBAVAAgKQfGY9cVEBQCCQlCICgAQFOsIClEBgKAQFKICAATFeoJCVAAgKASFqABAUAiK9QSFqABAUAgKUQGAoGA9QSEqABAUgkJUACAoWE9QiAoABIWgEBUACArWExSiAgBBIShEBQCCgvUEhagAQFAIClEBgKBgPUEhKgAQFIJCVAAgKATFuogKAASFoBAVAAgKQSEqAEBQbCgoRAUAgkJQiAoABIWgEBUACApBsbGgEBUACApBISoAEBSCQlQAICjYWFCICgAEhaAQFQAICkEhKgAQFGwsKEQFAIJCUIgKAASFoBAVAAgKNhYUogIAQSEoRAUAgkJQiAoABIWgEBUAICgEhagAQFAIijPaTd8Uf7jX8Gr6R78zhX/84DhMl9P02psGCIr/YqUCEBQgKEQFIChAUIgKQFCAoBAVgKAABIWoAAQFCApRAQgKEBSiAhAUIChEBSAoAEEhKgBBAYJCVACCAgSFqAAEBQgKUQEICkBQiApAUICgEBWAoABBISoAQQGCAlEBggIQFKICEBQgKEQFIChAUIgKQFCAoEBUgKAABIWoAAQFCApRAQgKEBSiAhAUICgQFSAoAEEhKgBBAYJCVACCAgSFqAAEBQgKRAUICkBQiApAUICgEBWAoABBgagAQQGCAlEBggIQFKICEBQgKEQFIChAUCAqQFCAoEBUgKAABIWoAAQFCApRAQgKEBSIChAUICgQFSAoAEEhKgBBAYJCVACCAgQFogIEBQgKRAUICkBQiApAUICgQFSAoABBgagAQQGCAlEBggIQFKICEBQgKBAVIChAUCAqQFCAoEBUgKAABIWoAAQFCApEBQgKEBSIChAUICgQFSAoTAMEhagABAUICkQFCAoQFIgKEBQgKBAVICgEBQgKRAUIChAUiAoQFCAoEBUgKEBQICpAUAgKEBSIChAUICgQFSAoQFAgKkBQgKBAVICgEBQgKBAVIChAUCAqYAUEBQgKRAWkEBQgKBAVAAgKRAUAggJRAYCgAFEBgKBAVAAgKBAVAAgKRAUAggJEBQCCAlEBgKBAVAAgKBAVAAgKY0BUACAoEBUACApEBQCCAlEBgKAQFPx/d9ProzHwxofpNRgDQZ+m1+/GcDW+TUHxyRiI2BkBb7XaT9PlaBIEPE4/oJ6NAW6L7Q9AUACiAhAUgKgABAUgKgAEBSAqAEEBiApAUACiAhAUgKgAEBSAqAAEBSAqAEEBiApAUACiAkBQAKICEBSAqAAEBSAqAEEBICoAQQGICkBQAKICEBSAqAAEBYCoAAQFICoAQQGICkBQAKICEBQAogIQFICoAAQFICoAQQGICkBQAIgKQFAAogIQFICoAAQFgKgAQQEgKgBBAYgKQFAAogIQFACiAgQFgKgABAUgKgBBAYgKQFAAiAoQFACiAhAUgKgABAUgKgBBASAqQFAAiApAUACiAhAUAKICBAWAqABBASAqAEEBiApAUACIChAUAKICBAWAqAAEBSAqAEEBICpAUACIChAUAKICEBSAqAAEBYCoAEEBICpAUACICkBQAIgKEBQAogIEBYCoAEEBICoAQQEgKkBQAIgKEBQAogIEBYCoAAQFgKgAQQFwEX8KMAB5fyriOffPRwAAAABJRU5ErkJggg=="},24:function(A,e,t){A.exports=t.p+"static/media/Mixer.db521ad7.png"},27:function(A,e,t){A.exports=t(41)},33:function(A,e,t){},34:function(A,e,t){},40:function(A,e,t){},41:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(22),g=t.n(r),i=t(4),o=t(5),c=t(7),s=t(6),C=t(8),B=t(10),Q=t(16),E=t(2),I=t.n(E),l=t(13),u=t(15),m=function(A,e){return fetch("https://api.twitch.tv/kraken/games/top?limit=".concat(A,"&offset=").concat(e),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"qxrshse6o00vgsl28hjlkyvlu28r89","Content-Type":"application/json"}}).then(function(A){return A.json()}).then(function(A){return A.top})},K=function(A,e){return fetch("https://mixer.com/api/v1/types?order=viewersCurrent:DESC&limit=".concat(A,"&page=").concat(e)).then(function(A){return A.json()}).then(function(A){return A})},h=function(A){return A.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},p=function(A){var e="";e=A.replace(/ /g,"").replace(/(~|`|!|@|#|$|%|^|&|\*|\(|\)|{|}|\[|\]|;|:|"|'|<|,|\.|>|\?|\/|\\|\||-|_|\+|=)/g,"");var t="",a="";return e.split("").forEach(function(A,n){isNaN(A)||(t+=A),(isNaN(A)||n===e.length-1)&&(""!==t&&(a+=F(t)),isNaN(A)&&(a+=A),t="")}),e=a.toLowerCase()},F=function(A){if(!+A)return!1;for(var e=String(+A).split(""),t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="",n=3;n--;)a=(t[+e.pop()+10*n]||"")+a;return Array(+e.join("")+1).join("M")+a},U=function(){var A=Object(l.a)(I.a.mark(function A(e,t,a){var n,r,g,i,o;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:n=[],r=I.a.mark(function A(a){var r,g;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(r={name:e[a].game.name,image:e[a].game.box.large,twitchViewers:e[a].game.popularity,mixerViewers:0,totalViewers:0,usingTwitchImage:!0},0===(g=t.filter(function(A){return A.name===r.name})).length&&(g=t.filter(function(A){return p(A.name)===p(r.name)})),0!==g.length){A.next=7;break}return A.next=6,i=r.name,fetch("https://mixer.com/api/v1/types?where=name:eq:".concat(i)).then(function(A){return A.json()}).then(function(A){return A});case 6:g=A.sent;case 7:g.length>0&&g.forEach(function(A){A.name!==r.name&&p(A.name)!==p(r.name)||(r.mixerViewers+=A.viewersCurrent)}),r.totalViewers=r.twitchViewers+r.mixerViewers,n.push(r);case 10:case"end":return A.stop()}var i},A)}),g=0;case 3:if(!(g<e.length)){A.next=8;break}return A.delegateYield(r(g),"t0",5);case 5:g++,A.next=3;break;case 8:i=I.a.mark(function A(e){var a,r,g;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(n.find(function(A){return A.name===t[e].name})){A.next=8;break}return A.next=3,i=t[e].name,fetch("https://api.twitch.tv/kraken/search/games?query=".concat(i),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"qxrshse6o00vgsl28hjlkyvlu28r89","Content-Type":"application/json"}}).then(function(A){return A.json()}).then(function(A){return A});case 3:a=A.sent,r=0,g=null,a.games&&a.games[0].name===t[e].name&&(r=a.games[0].popularity,g=a.games[0].box.large),n.push({name:t[e].name,image:g||t[e].coverUrl,twitchViewers:r,mixerViewers:t[e].viewersCurrent,totalViewers:t[e].viewersCurrent+r,usingTwitchImage:!!g});case 8:case"end":return A.stop()}var i},A)}),o=0;case 11:if(!(o<t.length)){A.next=16;break}return A.delegateYield(i(o),"t1",13);case 13:o++,A.next=11;break;case 16:return n.sort(function(A,e){return A.totalViewers<e.totalViewers?1:-1}),n=n.slice(0,a),A.abrupt("return",n);case 19:case"end":return A.stop()}},A)}));return function(e,t,a){return A.apply(this,arguments)}}(),f=(t(33),t(34),t(23)),d=t.n(f),w=t(24),v=t.n(w),b=function(A){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props.game;if(A){var e=A.usingTwitchImage?"card-image":"card-mixer-image";return n.a.createElement("div",{className:"card"},n.a.createElement(Q.b,{to:{pathname:"/streams",state:{gameprops:A}}},n.a.createElement("span",{className:"card-image-container"},n.a.createElement("img",{className:e,src:A.image,alt:"GameImage"}),!A.usingTwitchImage&&n.a.createElement("img",{className:"card-background",src:A.image,alt:"ImageBackground"}))),n.a.createElement("div",{className:"card-title"},A.name),n.a.createElement("div",null,n.a.createElement("img",{className:"icon",src:d.a,alt:"TwitchIcon"}),n.a.createElement("span",{className:"viewers"},h(A.twitchViewers)," viewers")),n.a.createElement("div",null,n.a.createElement("img",{className:"icon",src:v.a,alt:"MixerIcon"}),n.a.createElement("span",{className:"viewers"},h(A.mixerViewers)," viewers")))}return null}}]),e}(n.a.Component),S=function(A){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props.games;return n.a.createElement("span",{className:"container"},A.map(function(A,e){return n.a.createElement(b,{key:e,game:A})}))}}]),e}(n.a.Component),V=(t(40),function(A){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props.loadingBatch?"batch-indicator-container":"indicator-container";return n.a.createElement("div",{className:A},n.a.createElement("div",{className:"ripple"},n.a.createElement("div",null),n.a.createElement("div",null)))}}]),e}(n.a.Component)),R=function(A){function e(A){var t;return Object(i.a)(this,e),(t=Object(c.a)(this,Object(s.a)(e).call(this,A))).state={page:0,twitchStreams:[],mixerStreams:[],consolidatedGamesList:[],loadingGames:!1},t.GetGameData=t.GetGameData.bind(Object(u.a)(t)),t.RunOnScroll=t.RunOnScroll.bind(Object(u.a)(t)),t}return Object(C.a)(e,A),Object(o.a)(e,[{key:"GetGameData",value:function(){var A=Object(l.a)(I.a.mark(function A(e){var t,a,n;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(this.state.loadingGames){A.next=13;break}return this.setState({page:this.state.page+1,loadingGames:!0}),A.next=4,m(e,this.state.page*e);case 4:return t=A.sent,A.next=7,K(e,this.state.page);case 7:return a=A.sent,A.next=10,U(t,a,e);case 10:return n=A.sent,this.setState({loadingGames:!1}),A.abrupt("return",n);case 13:case"end":return A.stop()}},A,this)}));return function(e){return A.apply(this,arguments)}}()},{key:"RunOnScroll",value:function(){var A=Object(l.a)(I.a.mark(function A(e){var t,a,n,r,g,i=this;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(t=e.target.scrollingElement.scrollHeight,a=e.target.scrollingElement.clientHeight,n=e.target.scrollingElement.scrollTop,t-a!==n){A.next=8;break}return A.next=6,this.GetGameData(18);case 6:(r=A.sent)&&(g=(g=r.filter(function(A){return!i.state.consolidatedGamesList.find(function(e){return e.name===A.name})})).slice(0,12),this.setState({consolidatedGamesList:this.state.consolidatedGamesList.concat(g)}));case 8:case"end":return A.stop()}},A,this)}));return function(e){return A.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var A=Object(l.a)(I.a.mark(function A(){var e;return I.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return window.addEventListener("scroll",this.RunOnScroll),A.next=3,this.GetGameData(24);case 3:e=A.sent,this.setState({consolidatedGamesList:e});case 5:case"end":return A.stop()}},A,this)}));return function(){return A.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.consolidatedGamesList.length>0?n.a.createElement("span",null,n.a.createElement(S,{games:this.state.consolidatedGamesList,history:this.props.history}),this.state.loadingGames&&n.a.createElement(V,{loadingBatch:!0})):n.a.createElement(V,{loadingBatch:!1})}}]),e}(a.Component),x=function(A){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{style:{backgroundColor:"red"}},"streams")}}]),e}(a.Component),G=function(A){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){return n.a.createElement(Q.a,{basename:"/yatta"},n.a.createElement(B.a,{path:"/",component:R,exact:!0}),n.a.createElement(B.a,{path:"/streams",component:x,exact:!0}))}}]),e}(a.Component);g.a.render(n.a.createElement(G,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.c7a5b660.chunk.js.map