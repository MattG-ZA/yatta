(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(A,e){A.exports="data:image/png;base64,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"},24:function(A,e,t){A.exports=t.p+"static/media/Mixer.db521ad7.png"},27:function(A,e,t){A.exports=t(41)},33:function(A,e,t){},34:function(A,e,t){},40:function(A,e,t){},41:function(A,e,t){"use strict";t.r(e);var n=t(0),a=t.n(n),r=t(22),i=t.n(r),o=t(4),g=t(5),c=t(7),s=t(6),C=t(8),B=t(10),Q=t(16),E=t(2),u=t.n(E),l=t(12),I=t(15),m=function(A,e,t){return fetch("https://api.twitch.tv/kraken/games/top?limit=".concat(t?A+1:A,"&offset=").concat(e),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"qxrshse6o00vgsl28hjlkyvlu28r89","Content-Type":"application/json"}}).then(function(A){return A.json()}).then(function(A){return A.top})},h=function(A){return fetch("https://api.twitch.tv/kraken/search/games?query=".concat(A),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"qxrshse6o00vgsl28hjlkyvlu28r89","Content-Type":"application/json"}}).then(function(A){return A.json()}).then(function(A){return A})},p=function(A,e){return fetch("https://mixer.com/api/v1/types?order=viewersCurrent:DESC&limit=".concat(A,"&page=").concat(e)).then(function(A){return A.json()}).then(function(A){return A})},K=function(A){return A.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},f=function(A){var e="";e=A.replace(/ /g,"").replace(/(~|`|!|@|#|$|%|^|&|\*|\(|\)|{|}|\[|\]|;|:|"|'|<|,|\.|>|\?|\/|\\|\||-|_|\+|=)/g,"");var t="",n="";return e.split("").forEach(function(A,a){isNaN(A)||(t+=A),(isNaN(A)||a===e.length-1)&&(""!==t&&(n+=F(t)),isNaN(A)&&(n+=A),t="")}),e=n.toLowerCase()},F=function(A){if(!+A)return!1;for(var e=String(+A).split(""),t=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",a=3;a--;)n=(t[+e.pop()+10*a]||"")+n;return Array(+e.join("")+1).join("M")+n},U=function(){var A=Object(l.a)(u.a.mark(function A(e,t){var n,a,r,i,o,g,c,s,C;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:for(n=[],a=w(e,"twitch"),r=w(t,"mixer"),(n=n.concat(a).concat(r)).forEach(function(A){if(!A.matched&&"twitch"===A.gameOrigin){var e=n.filter(function(e){return e.name.toLowerCase()===A.name.toLowerCase()&&"mixer"===e.gameOrigin});0===e.length&&(e=n.filter(function(e){return f(e.name.toLowerCase())===f(A.name.toLowerCase())&&"mixer"===e.gameOrigin})),e.length>0&&(e.forEach(function(e){A.mixerViewers+=e.mixerViewers,A.totalViewers+=e.mixerViewers,e.matched=!0}),A.matched=!0)}}),i=n.filter(function(A){return!A.matched}),o=[],g=[],c=0;c<i.length;c++)"twitch"===i[c].gameOrigin&&g.push((B=i[c].name,fetch("https://mixer.com/api/v1/types?where=name:eq:".concat(B)).then(function(A){return A.json()}).then(function(A){return A}))),"mixer"===i[c].gameOrigin&&o.push(h(i[c].name));return A.next=11,d(o,i,!1);case 11:return A.next=13,v(g,i);case 13:return i=n.filter(function(A){return!A.matched}),s=i.filter(function(A){return!A.matched&&A.name.split("").includes(":")}),o=[],s.forEach(function(A){o.push(h(A.name.replace(":","")))}),A.next=19,d(o,s,!0);case 19:return C=[],n.forEach(function(A){1===n.filter(function(e){return f(e.name)===f(A.name)}).length?C.push(A):n.filter(function(e){return f(e.name)===f(A.name)}).length>1&&"twitch"===A.gameOrigin&&C.push(A)}),C.sort(function(A,e){return A.totalViewers<e.totalViewers?1:-1}),A.abrupt("return",C);case 23:case"end":return A.stop()}var B},A)}));return function(e,t){return A.apply(this,arguments)}}(),w=function(A,e){var t=[];return A.forEach(function(A){var n={name:"",image:"",twitchViewers:0,mixerViewers:0,totalViewers:0,gameOrigin:e,matched:!1};"twitch"===e&&(n.name=A.game.name,n.image=A.game.box.large,n.twitchViewers=A.game.popularity,n.totalViewers=A.game.popularity),"mixer"===e&&(n.name=A.name,n.image=A.coverUrl,n.mixerViewers=A.viewersCurrent,n.totalViewers=A.viewersCurrent),t.push(n)}),t},d=function(){var A=Object(l.a)(u.a.mark(function A(e,t,n){return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Promise.all(e).then(function(A){A.forEach(function(A){if(A.games){var e=null;(e=n?t.find(function(e){return e.name.replace(":","").toLowerCase()===A.games[0].name.replace(":","").toLowerCase()}):t.find(function(e){return e.name.toLowerCase()===A.games[0].name.toLowerCase()}))&&(e.image=A.games[0].box.large,e.twitchViewers+=A.games[0].popularity,e.totalViewers+=A.games[0].popularity,e.matched=!0)}})});case 2:case"end":return A.stop()}},A)}));return function(e,t,n){return A.apply(this,arguments)}}(),v=function(){var A=Object(l.a)(u.a.mark(function A(e,t){return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Promise.all(e).then(function(A){A.forEach(function(A){if(A.length>0){var e=t.find(function(e){return e.name.toLowerCase()===A[0].name.toLowerCase()});e&&(e.mixerViewers+=A[0].viewersCurrent,e.totalViewers+=A[0].viewersCurrent,e.matched=!0)}})});case 2:case"end":return A.stop()}},A)}));return function(e,t){return A.apply(this,arguments)}}(),V=(t(33),t(34),t(23)),S=t.n(V),b=t(24),x=t.n(b),O=function(A){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(g.a)(e,[{key:"render",value:function(){var A=this.props.game;if(A){var e=A.usingTwitchImage?"card-image":"card-mixer-image";return a.a.createElement("div",{className:"card"},a.a.createElement(Q.b,{to:{pathname:"/streams",state:{gameprops:A}}},a.a.createElement("span",{className:"card-image-container"},a.a.createElement("img",{className:e,src:A.image,alt:"GameImage"}),!A.usingTwitchImage&&a.a.createElement("img",{className:"card-background",src:A.image,alt:"ImageBackground"}))),a.a.createElement("div",{className:"card-title"},A.name),a.a.createElement("div",null,a.a.createElement("img",{className:"icon",src:S.a,alt:"TwitchIcon"}),a.a.createElement("span",{className:"viewers"},K(A.twitchViewers)," viewers")),a.a.createElement("div",null,a.a.createElement("img",{className:"icon",src:x.a,alt:"MixerIcon"}),a.a.createElement("span",{className:"viewers"},K(A.mixerViewers)," viewers")))}return null}}]),e}(a.a.Component),R=function(A){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(g.a)(e,[{key:"render",value:function(){var A=this.props.games;return a.a.createElement("span",{className:"container"},A.map(function(A,e){return a.a.createElement(O,{key:e,game:A})}))}}]),e}(a.a.Component),G=(t(40),function(A){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(g.a)(e,[{key:"render",value:function(){var A=this.props.loadingBatch?"batch-indicator-container":"indicator-container";return a.a.createElement("div",{className:A},a.a.createElement("div",{className:"ripple"},a.a.createElement("div",null),a.a.createElement("div",null)))}}]),e}(a.a.Component)),j=function(A){function e(A){var t;return Object(o.a)(this,e),(t=Object(c.a)(this,Object(s.a)(e).call(this,A))).state={page:0,twitchStreams:[],mixerStreams:[],consolidatedGamesList:[],loadingGames:!1},t.GetGameData=t.GetGameData.bind(Object(I.a)(t)),t.RunOnScroll=t.RunOnScroll.bind(Object(I.a)(t)),t}return Object(C.a)(e,A),Object(g.a)(e,[{key:"GetGameData",value:function(){var A=Object(l.a)(u.a.mark(function A(e,t){var n,a,r;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(this.state.loadingGames){A.next=14;break}return this.setState({loadingGames:!0}),A.next=4,m(e,this.state.page*e,t);case 4:return n=A.sent,A.next=7,p(e,this.state.page);case 7:return a=A.sent,A.next=10,U(n,a,e);case 10:return r=A.sent,U(n,a,e),this.setState({loadingGames:!1,page:this.state.page+1}),A.abrupt("return",r);case 14:case"end":return A.stop()}},A,this)}));return function(e,t){return A.apply(this,arguments)}}()},{key:"RunOnScroll",value:function(){var A=Object(l.a)(u.a.mark(function A(e){var t,n,a,r,i,o,g=this;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(t=e.target.scrollingElement.scrollHeight,n=e.target.scrollingElement.clientHeight,a=e.target.scrollingElement.scrollTop,t-n!==a){A.next=8;break}return A.next=6,this.GetGameData(24,!1);case 6:(r=A.sent)&&(i=r.filter(function(A){return!g.state.consolidatedGamesList.find(function(e){return e.name===A.name})&&!g.state.consolidatedGamesList.find(function(e){return f(e.name)===f(A.name)})}),(o=this.state.consolidatedGamesList.concat(i)).sort(function(A,e){return A.totalViewers<e.totalViewers?1:-1}),this.setState({consolidatedGamesList:o}));case 8:case"end":return A.stop()}},A,this)}));return function(e){return A.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var A=Object(l.a)(u.a.mark(function A(){var e;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return window.addEventListener("scroll",this.RunOnScroll),A.next=3,this.GetGameData(24,!0);case 3:e=A.sent,this.setState({consolidatedGamesList:e});case 5:case"end":return A.stop()}},A,this)}));return function(){return A.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.consolidatedGamesList.length>0?a.a.createElement("span",null,a.a.createElement(R,{games:this.state.consolidatedGamesList,history:this.props.history}),this.state.loadingGames&&a.a.createElement(G,{loadingBatch:!0})):a.a.createElement(G,{loadingBatch:!1})}}]),e}(n.Component),q=function(A){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(g.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{style:{backgroundColor:"red"}},"streams")}}]),e}(n.Component),y=function(A){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(C.a)(e,A),Object(g.a)(e,[{key:"render",value:function(){return a.a.createElement(Q.a,{basename:"/yatta"},a.a.createElement(B.a,{path:"/",component:j,exact:!0}),a.a.createElement(B.a,{path:"/streams",component:q,exact:!0}))}}]),e}(n.Component);i.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.af1281bc.chunk.js.map